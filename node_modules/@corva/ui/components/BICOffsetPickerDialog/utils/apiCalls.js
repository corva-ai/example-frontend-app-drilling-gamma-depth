import{get as t}from"lodash";import e from"@babel/runtime/regenerator";import r from"@babel/runtime/helpers/asyncToGenerator";import{getAppStorage as a,getAssets as s}from"../../../clients/jsonApi/index.js";function n(t,e){return i.apply(this,arguments)}function i(){return(i=r(e.mark((function r(a,n){var i,u,o;return e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,e.prev=1,e.next=4,s({types:["well"],company_id:a?+a:void 0,fields:["asset.name","asset.parent_asset_id","asset.parent_asset_name","asset.stats","asset.target_formation","asset.string_design","asset.root_asset_name","asset.basin","asset.county","asset.area","asset.visibility","asset.top_hole"],per_page:1e4,sort:"name"});case 4:i=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:if(u=i?i.data.map((function(e){return{id:Number(e.id),name:t(e,"attributes.name"),rigId:t(e,"attributes.parent_asset_id")||"Null",rigName:t(e,"attributes.parent_asset_name")||"Null",formation:t(e,"attributes.target_formation")||"Null",stringDesign:t(e,"attributes.string_design")||"Null",programName:t(e,"attributes.root_asset_name")||"Null",basin:t(e,"attributes.basin")||"Null",county:t(e,"attributes.county")||"Null",area:t(e,"attributes.area")||"Null",visibility:t(e,"attributes.visibility"),topHole:t(e,"attributes.top_hole"),rigReleaseDate:t(e,"attributes.stats.well_end"),totalDepth:t(e,"attributes.stats.total_depth"),is_usable:!0}})).filter((function(t){return"visible"===t.visibility})):[],!n){e.next=16;break}return e.next=14,n(u);case 14:return o=e.sent,e.abrupt("return",o);case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),r,null,[[1,7]])})))).apply(this,arguments)}function u(t){return o.apply(this,arguments)}function o(){return(o=r(e.mark((function t(r){return e.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a("corva","data.offset-wells.bic",r,{limit:1,sort:"{timestamp: -1}"}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}export{u as fetchBicWellSections,n as fetchWells};
