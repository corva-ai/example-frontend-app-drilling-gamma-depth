import e from"@babel/runtime/helpers/defineProperty";import n from"@babel/runtime/helpers/toConsumableArray";import{isEmpty as t}from"lodash";import{showSuccessNotification as r}from"../../../../utils/notificationToasts.js";import"../../../../utils/index.js";import{jsxs as o,jsx as i,Fragment as l}from"react/jsx-runtime";import{makeStyles as a,Typography as c,Tooltip as s,List as p}from"@material-ui/core";import{memo as d,Fragment as m}from"react";import{string as f,arrayOf as u,shape as g,func as h}from"prop-types";import w from"./AssetSearch.js";import x from"./SectionItem.js";import b from"./WellListItem.js";function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){e(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var j=a({content:{marginTop:"10px"},sectionItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"6px 5px 6px 0px",fontSize:"12px",fontWeight:"normal",color:"#BDBDBD",borderTop:"1px solid grey"},disabledSectionItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"6px 5px 6px 0px",fontSize:"12px",fontWeight:"normal",color:"grey",borderTop:"1px solid grey"},splitLine:{paddingLeft:"5px",height:1,background:"grey"},itemLabelNumber:{marginLeft:"8px"},wellList:{width:"100%",margin:0,padding:0},tooltip:{background:"#201f1f",padding:"8px 12px"},arrow:{color:"#201f1f"},searchContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},advancedSearch:{fontSize:"14px",fontWeight:500,color:"#03BCD4",cursor:"pointer","&:hover":{textDecoration:"underline"}}});function S(e){var a=e.company,d=e.wellSections,f=e.getWellName,u=e.onChangeWellSections,g=e.onExploreMode,h=j(),y=function(e,n){var t=d.find((function(n){return n.name===e.name})).wells.map((function(e){return e.id})),r=d.map((function(e){var r=e.wells.map((function(e){return t.includes(e.id)?v(v({},e),{},{checked:n}):v({},e)}));return v(v({},e),{},{wells:r})}));u(r)},S=function(e){var n=d.map((function(n){return n.name===e.name?v(v({},n),{},{expanded:!n.expanded}):n}));u(n)},O=function(e){var n=d.map((function(n){var t=n.wells.map((function(n){return n.id===e.id?v(v({},n),{},{checked:!n.checked}):n}));return v(v({},n),{},{wells:t})}));u(n)},C=function(e){y(e,!0)},N=function(e){y(e,!1)};return o("div",{className:h.content,children:[o("div",{className:h.searchContainer,children:[i(w,{company:+a,onClickAsset:function(e,t){var o=d.map((function(r){if("Search Results"===r.name){var o=n(r.wells);return r.wells.find((function(n){return n.id===e}))||o.push({id:e,checked:!0,name:t,kind:"manual"}),v(v({},r),{},{wells:o})}return v(v({},r),{},{wells:r.wells.map((function(n){return n.id===e?v(v({},n),{},{checked:!0}):n}))})}));u(o),r("Offset well successfully added!")},onExploreMode:g}),i(c,{className:h.advancedSearch,onClick:function(){g()},children:"ADVANCED SEARCH"})]}),!t(d)&&o(l,{children:[d.map((function(e){return o(m,{children:[0===e.wells.length?i(s,{classes:{tooltip:h.tooltip,arrow:h.arrow},title:"No Best Wells in ".concat(e.name," Section"),placement:"top-start",arrow:!0,children:i("div",{className:h.disabledSectionItem,children:i(x,{section:e,disabled:!0},"empty-".concat(e.name))})}):i("div",{className:h.sectionItem,children:i(x,{section:e,onExpandCollapse:S,onSelectAll:C,onClearAll:N},"section-".concat(e.name))}),i(p,{dense:!0,className:h.wellList,children:e.expanded&&e.wells.map((function(n,t){return i(b,{noMarginTop:0!==t,well:n,wellName:f(e.wells,n.id),rigName:n.rigName,onToggleWell:O},"well-".concat(e.name,"-").concat(n.id))}))})]},"fragment-".concat(e.name))})),i("div",{className:h.splitLine})]})]})}S.propTypes={company:f.isRequired,wellSections:u(g({})),getWellName:h.isRequired,onChangeWellSections:h.isRequired,onExploreMode:h.isRequired},S.defaultProps={wellSections:[]};var O=d(S);export default O;
