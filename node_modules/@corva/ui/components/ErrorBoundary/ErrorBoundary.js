import r from"@babel/runtime/helpers/defineProperty";import e from"@babel/runtime/helpers/classCallCheck";import t from"@babel/runtime/helpers/createClass";import{jsx as o}from"react/jsx-runtime";import{Component as n}from"react";import i from"@babel/runtime/helpers/objectWithoutProperties";import c from"prop-types";import p from"@babel/runtime/helpers/assertThisInitialized";import s from"@babel/runtime/helpers/inherits";import a from"@babel/runtime/helpers/possibleConstructorReturn";import l from"@babel/runtime/helpers/getPrototypeOf";import u from"../EmptyView/EmptyAppView/EmptyAppView.js";function f(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,o)}return t}function m(r){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,o=l(r);if(e){var n=l(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return a(this,t)}}var h=function(c){s(l,n);var a=m(l);function l(){var t;e(this,l);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=a.call.apply(a,[this].concat(n)),r(p(t),"state",{hasInternalError:!1}),t}return t(l,[{key:"componentDidCatch",value:function(r){this.setState({hasInternalError:!0}),console.error(r),window.Rollbar&&window.Rollbar.error(r)}},{key:"render",value:function(){if(!this.state.hasInternalError)return this.props.children;var e=this.props,t=e.ErrorView,n=(e.children,i(e,["ErrorView","children"]));return o(t,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}({},n))}}],[{key:"getDerivedStateFromError",value:function(){return{hasInternalError:!0}}}]),l}();h.propTypes={children:c.node.isRequired,ErrorView:c.oneOfType([c.node,c.func])},h.defaultProps={ErrorView:u};export default h;
