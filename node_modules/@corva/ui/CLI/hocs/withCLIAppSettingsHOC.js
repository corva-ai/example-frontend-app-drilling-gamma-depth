import t from"@babel/runtime/helpers/defineProperty";import e from"@babel/runtime/helpers/slicedToArray";import{jsx as r}from"react/jsx-runtime";import{useState as n}from"react";import{getLocalAppData as o,updateLocalAppData as i}from"./utils.js";import{useAuth as c}from"../context/auth.js";function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}export default function(s){return function(f){var u=c().user,a=f.manifest.application.key,m=n(o(a).settings||{}),b=e(m,2),O=b[0],l=b[1];return r(s,p(p({},f),{},{currentUser:u,settings:O,onSettingChange:function(e,r){var n=p(p({},O||{}),{},t({},e,r));i(a,{settings:n}),l(n)},onSettingsChange:function(t){var e=p(p({},O||{}),t);i(a,{settings:e}),l(e)}}))}}
