import e from"@babel/runtime/helpers/toConsumableArray";import{COMPLETION_APPTYPE_MODES_DICT as t,DEFAULT_SUPPORTED_PAD_MODES as r,COMPLETION_APP_TYPES as o}from"../../constants/completion.js";import{first as n}from"lodash";import i from"@babel/runtime/helpers/slicedToArray";import{resolveActiveFracAsset as p,resolveActiveWirelineAsset as l,resolveActivePumpdownAsset as a}from"../../utils/completion.js";import{jsx as s}from"react/jsx-runtime";import{makeStyles as c,FormControl as m,Select as d,MenuItem as u}from"@material-ui/core";import{useMemo as f}from"react";import g from"prop-types";import{getWellStatusLabel as A}from"./utils.js";var h=o.padApp,y=o.fracWirelineMultiWellApp,b=o.fracMultiWellApp,S=o.wirelineMultiWellApp,W=o.fracSingleWellApp,v=o.wirelineSingleWellApp,M=o.pumpdownMultiWellApp,x=o.pumpdownSingleWellApp,C=c({selectFormControl:{maxWidth:"320px",padding:"5px 8px",marginLeft:"auto"},padSelect:{fontSize:"14px","&:before":{borderBottom:0},"&:after":{borderBottom:0}}}),j=function(o){var c=o.completionAppType,g=o.padModeSetting,j=o.assets,k=o.onChange,w=C(),T="custom"===g.mode?"custom--".concat(n(g.selectedAssets)):g.mode,q=t[c],B=f((function(){return r.filter((function(e){return q.includes(e.key)}))}),[q]),F=f((function(){var t=[h,y,b,W].includes(c)&&p(j),r=[h,y,S,v].includes(c)&&l(j),o=[M,x].includes(c)&&a(j);return j.reduce((function(n,i){var p=t&&t.id===i.id,l=r&&r.id===i.id,a=o&&o.id===i.id;return[].concat(e(n),[{key:"custom--".concat(i.id),label:"".concat(i.name).concat(A(p,l,a))}])}),[])}),[j,c]),O=B.concat(F),P=function(e){var t=e.split("--"),r=i(t,2),o=r[0],n=r[1],p={mode:o};"custom"===o&&(p.mode="custom",p.selectedAssets=[parseInt(n,10)]),k(p)};return s(m,{classes:{root:w.selectFormControl},children:T&&s(d,{value:T,onChange:function(e){return P(e.target.value)},inputProps:{name:"padModeSelect",id:"pad-mode-select"},className:w.padSelect,children:O.map((function(e){return s(u,{value:e.key,children:e.label},e.key)}))})})};j.propTypes={padModeSetting:g.shape({mode:g.string,selectedAssets:g.arrayOf(g.string)}),assets:g.arrayOf(g.shape()),completionAppType:g.string.isRequired,onChange:g.func.isRequired},j.defaultProps={padModeSetting:{},assets:[]};export default j;
