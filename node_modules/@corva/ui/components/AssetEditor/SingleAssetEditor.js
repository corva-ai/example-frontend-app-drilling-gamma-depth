import{jsxs as e,jsx as t}from"react/jsx-runtime";import{withStyles as a,FormControl as s,InputLabel as r,Select as n,MenuItem as i,CircularProgress as l}from"@material-ui/core";import p from"prop-types";import d from"../TruncatedText/index.js";import{useAssetSelectData as u}from"./effects/index.js";var o="DC_SingleAssetEditor",c=function(a){var p=a.appKey,c=a.label,m=a.currentValue,h=a.defaultValue,y=a.isNullable,f=a.onChange,g=a.classes,v=a.parentAssetId,A=a.assetType,T=a.parentAssetType,b=u({appKey:p,assetId:m,assetType:A,parentAssetId:v,parentAssetType:T}),I=b.assets,N=b.loading,x=m||h;return e("div",{children:[e(s,{disabled:N,children:[!y&&t(r,{shrink:!!x,children:c}),e(n,{"data-testid":a["data-testid"],value:x,onChange:function(e){return f(e.target.value)},className:g.select,MenuProps:{className:g.selectMenu},children:[y&&t(i,{"data-testid":"".concat(o,"_noActiveAssetMenuItem"),value:h,className:g.menuItem,children:"No active asset"},"empty item"),I.map((function(e){var a=(null==e?void 0:e.name)||"";return t(i,{"data-testid":"".concat(o,"_option_").concat(a,"MenuItem"),value:Number(e.id),className:g.menuItem,children:t(d,{children:a})},e.id)}))]})]}),N&&t(l,{"data-testid":"".concat(o,"_CircularProgress"),size:20,className:g.progress})]})};c.propTypes={classes:p.shape({}).isRequired,appType:p.shape({constants:p.shape({})}),currentValue:p.oneOfType([p.number,p.string]),defaultValue:p.any,onChange:p.func.isRequired,label:p.string,isNullable:p.bool,parentAssetId:p.number,parentAssetType:p.string,assetType:p.string.isRequired,"data-testid":p.string,appKey:p.string},c.defaultProps={label:"Choose An Asset",currentValue:"",defaultValue:"",appType:void 0,isNullable:!1,parentAssetId:void 0,parentAssetType:void 0,"data-testid":"".concat(o,"_autoComplete"),appKey:null};var m=a({progress:{margin:"0 15px"},select:{width:350},selectMenu:{maxHeight:350},menuItem:{width:350}})(c);export default m;
