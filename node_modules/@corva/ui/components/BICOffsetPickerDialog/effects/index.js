import{isEmpty as r}from"lodash";import t from"@babel/runtime/helpers/slicedToArray";import e from"@babel/runtime/regenerator";import n from"@babel/runtime/helpers/asyncToGenerator";import{useRef as a,useState as u,useEffect as o}from"react";import{fetchBicWellSections as i,fetchWells as s}from"../utils/apiCalls.js";function c(r){var t=a();return o((function(){t.current=r})),t.current}function l(r,i){var c=a(!0),l=u(null),p=t(l,2),f=p[0],m=p[1];return o((function(){function t(){return(t=n(e.mark((function t(){var n;return e.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(r);case 2:n=t.sent,m(n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i&&c.current&&(m(null),function(){t.apply(this,arguments)}(),c.current=!1)}),[r,i]),f}var p=function(a,s){var c=u([]),l=t(c,2),p=l[0],f=l[1];return o((function(){var u,o=(u=n(e.mark((function n(){var u,o,s,c,l;return e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return e.next=4,Promise.all([i(a)]);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:o=e.t0,s=t(o,1),u=s[0],c=!r(u)&&JSON.parse(u[0].data.filters)||void 0,l=!r(u)&&u[0].data.result&&JSON.parse(u[0].data.result)||void 0,f({filters:c,result:l}),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),f(null);case 19:case"end":return e.stop()}}),n,null,[[0,16]])}))),function(){return u.apply(this,arguments)});s&&o()}),[a,s]),p};export{p as useFetchBicWellsData,c as usePrevious,l as useWells};
