"use strict";var e=require('../../../ext-cjs/@babel/runtime/helpers/defineProperty.js'),r=require("./constants.js"),o=require("./webpack.config.common.js"),n=require("./plugins/checkCorvaUIVersion.js"),t=require("./utils/middlewares.js");function i(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,n)}return o}function s(r){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?i(Object(n),!0).forEach((function(o){e(r,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}var c=require("webpack-merge").merge,l=require("path"),p=require("webpack"),u=require("clean-webpack-plugin").CleanWebpackPlugin,a=require("copy-webpack-plugin"),d=require("html-webpack-plugin"),O=require("chalk");require("dotenv").config({path:l.resolve(o.APP_DIRECTORY,"./.env")});module.exports=function(e,i){var P,v=process.env.HOST||i.host||"localhost",_=process.env.PORT||i.port||8080;return c(o.default(e,i),{mode:"development",devtool:"inline-source-map",devServer:{contentBase:"./dist",public:"".concat(v,":").concat(_),port:_,before:function(e){return t.onBeforeSetUpMiddleware(e,{APP_DIRECTORY:o.APP_DIRECTORY})}},entry:l.resolve(__dirname,"DevServerEntryPoint.js"),plugins:[new u,new a({patterns:[{from:l.resolve(__dirname,"public")},{from:l.resolve(process.cwd(),"node_modules","@corva/ui/assets"),to:"static/media",noErrorOnMissing:!0}]}),new d({filename:"index.html",inject:!0,template:l.resolve(__dirname,"public","index.html")}),new p.EnvironmentPlugin(s(s({},process.env),{},{DEV_CENTER_APP_PATH:process.cwd(),REACT_APP_ENVIRONMENT:process.env.REACT_APP_ENVIRONMENT||"development"},(P=process.env.CORVA_API_ENV||r.CORVA_API_ENVS.production,P in r.CORVA_API_ENVS?r.CORVA_API_ENV_VARIABLES[P]:(console.log(O.red("CORVA_API_ENV should be one of [".concat(Object.keys(r.CORVA_API_ENVS).join(", "),"]"))),process.exit(1))))),n],module:{rules:[{test:/\.(png|jpe?g|gif)$/i,use:[{loader:"file-loader"}]},{test:/\.svg$/,use:[{loader:"svg-url-loader",options:{limit:1e4}}]}]}})};
