import t from"@babel/runtime/helpers/toConsumableArray";import{jsx as e}from"react/jsx-runtime";import{useRef as i,useEffect as r}from"react";import l from"prop-types";var h="#239FE6",c="#085EDF",n="#C208DF",o="yellow",a="#8398A5",s="#dd375e",f="#44ff44";function p(l){var p=l.schematic,u=l.containerWidth,y=l.containerHeight,d=i(),m=i();r((function(){var e=d.current,i=e.getContext("2d"),r=m.current,l=r.clientWidth,u=r.clientHeight;e.width=l-8,e.height=u,e.style.width="".concat(l-8,"px"),e.style.height="".concat(u,"px");var y=p.filter((function(t){return["bit","stabilizer","ur"].includes(t.family)})).length,g=p.filter((function(t){return["pdm","rss"].includes(t.family)})).length,b=(l-6*y)/(p.filter((function(t){return"other"===t.family})).length+2*g),x=[],w=0;t(p).reverse().forEach((function(t){var e=0;switch(e=["bit","stabilizer","ur"].includes(t.family)?6:["pdm","rss"].includes(t.family)?2*b:b,t.family){case"bit":x.push({type:"rect",x:w,y:u/2-6,width:e,height:12,fillColor:"pdc"===t.bitType?h:c});break;case"ur":x.push({type:"rect",x:w,y:u/2-6,width:e,height:12,fillColor:f});break;case"pdm":t.hasStabilizer?x.push({type:"rect",x:w+(e/2-3),y:u/2-6,width:6,height:12,fillColor:o},{type:"rect",x:w,y:u/2-2,width:e,height:4,fillColor:n}):x.push({type:"rect",x:w,y:u/2-2,width:e,height:4,fillColor:n});break;case"rss":x.push({type:"rect",x:w,y:u/2-2,width:e,height:4,fillColor:s});break;case"stabilizer":x.push({type:"rect",x:w,y:u/2-6,width:e,height:12,fillColor:o});break;case"other":x.push({type:"rect",x:w,y:u/2-2,width:e,height:4,fillColor:a})}w+=e})),x.forEach((function(t){i.fillStyle=t.fillColor,i.fillRect(t.x,t.y,t.width,t.height)}))}));var g={width:u?"".concat(u,"px"):"100%",height:y?"".concat(y,"px"):"100%"};return e("div",{ref:m,style:g,children:e("canvas",{ref:d})})}p.propTypes={containerWidth:l.number,containerHeight:l.number,schematic:l.arrayOf(l.shape({})).isRequired},p.defaultProps={containerWidth:null,containerHeight:null};export default p;
