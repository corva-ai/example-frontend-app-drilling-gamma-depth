import r from"@babel/runtime/helpers/defineProperty";import{get as e,isEqual as t}from"lodash";import o from"@babel/runtime/helpers/slicedToArray";import"@babel/runtime/helpers/typeof";import{jsx as i}from"react/jsx-runtime";import{darkTheme as n}from"../../../config/theme/index.js";import"highcharts";import"highcharts/highcharts-more";import"highcharts-multicolor-series";import"highcharts/modules/solid-gauge";import"highcharts/modules/heatmap";import"highcharts/modules/boost";import"highcharts/modules/exporting";import"highcharts/modules/xrange";import"highcharts/modules/dumbbell";import"highcharts/modules/pattern-fill";import"../../../config/mapbox/index.js";import{useState as c,useEffect as m,useRef as s}from"react";import{MuiThemeProvider as u}from"@material-ui/core/styles";import h from"react-dom";import{getAppTitle as p,getExpander as l,getOffsetPicker as a,getSecondaryAsset as f,getModeSelect as d,getPrimaryAsset as b}from"../utils.js";import{LARGE_SIZE_LAYOUT as g,MEDIUM_SIZE_LAYOUT as y,SMALL_SIZE_LAYOUT as O}from"../constants.js";function j(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,o)}return t}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?j(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function k(r,t,i){var n=c(null),s=o(n,2),u=s[0],h=s[1];return m((function(){if(i&&t){var o=p(r),n=l(r),c=a(r),m=f(r),s=d(r),u=b(r),j=t[e(o,"key")]||0,v=t[e(n,"key")]||0,k=t[e(c,"key")]||0,P=t[e(m,"key")]||0,w=t[e(s,"key")]||0,x=t[e(u,"key")]||0;h(j+(v+k+P+w+x)<=i?g:j+x<=i?y:O)}}),[t,i]),u}function P(p){var l=s({}),f=c(null),d=o(f,2),b=d[0],g=d[1],y=s({});return m((function(){var o=p.filter((function(r){return!!r}));if(!t(o,y.current)){var c=a(p),m=e(c,"key");l.current=m?r({},m,36):{},o.forEach((function(e){var c=document.createElement("div");c.style.position="absolute",c.style.visibility="hidden",document.body.appendChild(c),e&&e.key!==m&&h.render(i(u,{theme:n,children:e}),c,(function(){var i=c.getBoundingClientRect();c.remove(),l.current=v(v({},l.current),{},r({},e.key,i.width)),Object.values(l.current).length===o.length&&(t(b,l.current)||g(l.current))}))})),y.current=o}})),b}export{P as useComonentsWidth,k as useFilterLayout};
