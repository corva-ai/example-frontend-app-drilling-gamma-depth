import{throttle as r}from"lodash";import t from"@babel/runtime/helpers/slicedToArray";import{jsx as o}from"react/jsx-runtime";import{useContext as n,useState as e,useCallback as i,useMemo as a}from"react";import s from"../../SettingsContext.js";import c from"../../ChartsContext.js";import u from"./Tooltip.js";import f from"./CursorPositioner.css.js";export default function(){var m=n(c).chartsRef,h=n(s),l=h.settings,p=h.horizontal,g=h.maxTracesCount,v=h.settingsKey,d=e([]),x=t(d,2),j=x[0],C=x[1],y=e(!1),M=t(y,2),T=M[0],b=M[1],z=i(r((function(r){return function(r){if(b(!0),m&&m.current&&l[v]){var t=[];l[v].forEach((function(o,n){var e=[],i=m.current.get(n);if(i&&i.current&&i.current.chart){var a=i.current.chart,s=a.pointer.normalize(r);a.series.forEach((function(r){var t=r.searchPoint(s,!0);t&&e.push(t)}))}t.push(e)})),C(t)}}(r)}),50,{leading:!0,trailing:!1}),[m]),E=a((function(){var r,t=(null==l||null===(r=l[v])||void 0===r?void 0:r.length)||1;return p?{right:"".concat(68*g+32,"px"),height:"".concat(116*t,"px")}:{right:0,height:0}}),[g,p,l]);return o("div",{className:f.container,style:E,onMouseMove:z,onMouseLeave:function(){b(!1)},children:T&&o(u,{points:j})})}
