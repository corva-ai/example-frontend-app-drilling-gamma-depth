import o from"@babel/runtime/helpers/slicedToArray";import n from"@babel/runtime/regenerator";import e from"@babel/runtime/helpers/asyncToGenerator";import{jsxs as t,jsx as r}from"react/jsx-runtime";import{memo as i,useState as m}from"react";import{getUserAuthSchemas as p}from"../../../../clients/jsonApi/index.js";import s from"prop-types";import{styled as a}from"@material-ui/core/styles";import c from"@material-ui/core/Button";import"../../../../components/Login/components/Login.js";import"../../../../components/Login/components/PasswordField.js";import"../../../../components/Login/components/Chip.js";import l from"../../../../components/Login/components/StepFooter.js";import u from"../../../../components/Login/components/StepContent.js";import d from"../../../../components/Login/components/StepHeader.js";import f from"../../../../components/Login/components/Step.js";import"../../../../components/Login/components/OrDivider.js";import"../../../../components/Login/components/HiddenEmailField.js";import g from"../../../../components/Login/components/EmailField.js";import{NEED_HELP_EXTERNAL_LINK as h}from"../../../constants/index.js";var v=a(c)((function(o){var n=o.theme;return{width:71,padding:n.spacing(),backgroundColor:n.status.loginButton,"&:hover":{backgroundColor:"".concat(n.status.loginButtonHovered)}}}));function j(i){var s,a=i.onNext,c=m(!1),j=o(c,2),b=j[0],x=j[1],L=m(null),y=o(L,2),C=y[0],k=y[1],S=m(""),w=o(S,2),B=w[0],E=w[1],F=(s=e(n.mark((function o(e){var t;return n.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return x(!0),o.prev=1,o.next=4,p(e);case 4:t=o.sent,x(!1),a(e,t.schemas),o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),x(!1),k("Invalid email");case 13:case"end":return o.stop()}}),o,null,[[1,9]])}))),function(o){return s.apply(this,arguments)}),H=function(o){o.preventDefault(),B?F(B):k("Required")};return t(f,{children:[r(d,{children:"Sign In"}),r(u,{children:r("form",{id:"email-form",onSubmit:H,autoComplete:"on",children:r(g,{value:B,onChange:function(o){E(o.target.value),k(null)},disabled:!!b,error:C})})}),r(l,{needHelpExternalLink:h,children:r(v,{"data-testid":"EmailPo_nextButton",form:"email-form",type:"submit",variant:"contained",color:"primary",disabled:b||!!C,onClick:H,children:"Next"})})]})}j.propTypes={onNext:s.func.isRequired};var b=i(j);export default b;
