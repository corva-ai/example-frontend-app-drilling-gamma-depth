import e from"@material-ui/core/colors/grey";import{isNativeDetected as t}from"../../utils/mobileDetect.js";import{jsxs as r,Fragment as o,jsx as s}from"react/jsx-runtime";import{Typography as a}from"@material-ui/core";import i from"prop-types";import n from"classnames";import{withStyles as c}from"@material-ui/core/styles";import{Tooltip as m}from"../Tooltip/Tooltip.js";import l from"../Avatar/index.js";import u from"../UserCardPopover.js";import p from"./styles.css.js";var d=function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""},h=function(e){var t=e.users,r=e.noReactionsText,o=t.length;if(!o)return r;var s="";o>19&&(s="\nand ".concat(o-19," more..."));var a=t.slice(0,19).join("\n");return"".concat(a).concat(s)},f=function(e){var t=e.likesCount,i=e.usersWhoLike,c=e.commentsCount,f=e.usersWhoCommented,v=e.onCommentsClick,y=e.currentUser,C=e.activeUsersList,k=e.classes,g=e.isNative,N=e.small;return r(o,{children:[!!t&&s(m,{title:s(h,{users:i,noReactionsText:"Nobody likes this yet..."}),enterTouchDelay:0,children:r(a,{"data-testid":"".concat("FeedPo","_likesCounter_").concat(t),className:k.reactionTypographyRoot,variant:"caption",children:["Likes ",t]})}),!!c&&s("span",{onClick:v,children:s(m,{title:s(h,{users:f,noReactionsText:"Nobody commented this yet..."}),enterTouchDelay:0,children:r(a,{"data-testid":"".concat("FeedPo","_commentsCounter_").concat(c),className:k.reactionTypographyRoot,variant:"caption",children:["Comments ",c]})})}),s("div",{"data-testid":"".concat("FeedPo","_activeUsersCounter_").concat(C&&C.length),className:p.cCommentsInfoActiveUsersList,children:C.map((function(e){return g?s(l,{displayName:d(e),imgSrc:e.profile_photo,className:n(k.avatar,k.avatarInList),size:N?25:35},e.id):s(u,{user:e,currentUser:y,children:s(l,{displayName:d(e),imgSrc:e.profile_photo,size:N?25:35,className:n(k.avatar,k.avatarInList)})},e.id)}))})]})},v={reactionTypographyRoot:{color:e[400],margin:"0 8px",cursor:"pointer","&:hover":{textDecoration:"underline"}},avatar:{border:"1px solid #909090"},avatarInList:{marginRight:3,borderWidth:1}};f.propTypes={likesCount:i.number,usersWhoLike:i.arrayOf(i.shape({})),commentsCount:i.number,usersWhoCommented:i.arrayOf(i.string).isRequired,onCommentsClick:i.func,activeUsersList:i.arrayOf(i.shape({})).isRequired,classes:i.shape({}).isRequired,isNative:i.bool,small:i.bool,currentUser:i.shape({})},f.defaultProps={likesCount:0,usersWhoLike:[],commentsCount:0,onCommentsClick:function(){},small:!1,isNative:t,currentUser:{}};var y=c(v)(f);export default y;
