import e from"@babel/runtime/helpers/defineProperty";import t from"@babel/runtime/helpers/toConsumableArray";import r from"lodash/get";import n from"@babel/runtime/regenerator";import a from"@babel/runtime/helpers/asyncToGenerator";import{getAssets as s,getRigs as i,getFracFleets as u,getDrilloutUnits as o}from"../../../../../../clients/jsonApi/index.js";import c from"jsona";import l from"lodash/concat";function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b=new c;function m(){return d.apply(this,arguments)}function d(){return(d=a(n.mark((function e(){var t,a,i,u,o=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"well",a=o.length>1?o[1]:void 0,i=null,e.prev=3,e.next=6,s({types:["well"],company_id:a?+a:void 0,fields:["asset.name","asset.parent_asset_id","asset.parent_asset_name","asset.stats","asset.target_formation","asset.string_design","asset.root_asset_name","asset.basin","asset.county","asset.area","asset.visibility","asset.top_hole","asset.settings","well.settings"],per_page:1e4,sort:"name"});case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:return u=i?i.data.map((function(e){return{id:Number(e.id),name:r(e,"attributes.name"),rigId:r(e,"attributes.parent_asset_id")||"Null",rigName:r(e,"attributes.parent_asset_name")||"Null",formation:r(e,"attributes.target_formation")||"Null",stringDesign:r(e,"attributes.string_design")||"Null",programName:r(e,"attributes.root_asset_name")||"Null",basin:r(e,"attributes.basin")||"Null",county:r(e,"attributes.county")||"Null",area:r(e,"attributes.area")||"Null",visibility:r(e,"attributes.visibility"),topHole:r(e,"attributes.top_hole"),rigReleaseDate:r(e,"attributes.stats.well_end"),totalDepth:r(e,"attributes.stats.total_depth"),is_usable:!0,apiNumber:r(e,"attributes.settings.api_number","-")}})).filter((function(e){return"visible"===e.visibility})):[],e.abrupt("return",u.map((function(e){return{redirectAssetId:e.id,apiNumber:e.api_number,name:e.name,asset_id:e.id,type:t}})));case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function _(e,t){return g.apply(this,arguments)}function g(){return(g=a(n.mark((function e(t,a){var s,u,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={per_page:1e3,page:t,fields:["rig.name","rig.active_well","rig.asset_id"],sort:"name",company:a},e.prev=2,e.next=5,i(s);case 5:u=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),u=[];case 12:return o=b.deserialize(u),e.abrupt("return",o.map((function(e){return f({redirectAssetId:r(e,["active_well","asset_id"])||null},e)})));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function y(e,t){return h.apply(this,arguments)}function h(){return(h=a(n.mark((function e(t,a){var s,i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={per_page:1e3,page:t,fields:["frac_fleet.name","frac_fleet.current_pad_id","frac_fleet.pad_frac_fleets"],sort:"name",company:a},e.prev=2,e.next=5,u(s);case 5:i=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),i=[];case 12:return o=b.deserialize(i),e.abrupt("return",o.map((function(e){return f({redirectAssetId:r(e,["current_pad_id"])||null},e)})));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function v(e,t){return w.apply(this,arguments)}function w(){return(w=a(n.mark((function e(t,a){var s,i,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={per_page:1e3,page:t,fields:["drillout_unit.name","drillout_unit.well"],sort:"name",company:a},e.prev=2,e.next=5,o(s);case 5:i=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),i=[];case 12:return u=b.deserialize(i),e.abrupt("return",u.map((function(e){return f({redirectAssetId:r(e,["well","asset_id"])||null},e)})));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return(O=a(n.mark((function e(r){var a,s,i,u,o,c,p,f=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>1&&void 0!==f[1]?f[1]:1,s=f.length>2?f[2]:void 0,"well"!==r&&"api_number"!==r){e.next=7;break}return e.next=5,m(r,s);case 5:return i=e.sent,e.abrupt("return",i);case 7:if("rig"!==r){e.next=12;break}return e.next=10,_(a,s);case 10:return u=e.sent,e.abrupt("return",u);case 12:if("frac_fleet"!==r){e.next=17;break}return e.next=15,y(a,s);case 15:return o=e.sent,e.abrupt("return",o);case 17:if("drillout_unit"!==r){e.next=22;break}return e.next=20,v(a,s);case 20:return c=e.sent,e.abrupt("return",c);case 22:return e.next=24,Promise.all([m("well",s),_(a,s),y(a,s),v(a,s)]);case 24:return p=e.sent,e.abrupt("return",l.apply(void 0,t(p)));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}export{x as fetchAllAssets,m as fetchWells};
