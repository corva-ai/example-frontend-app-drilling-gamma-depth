import{get as t}from"lodash";import e from"@babel/runtime/helpers/typeof";import{Node as r}from"slate";var a=function(t){if(!t)return!1;try{var r=JSON.parse(t);return{isValid:"object"===e(r)&&null!==r,parsedJSON:r}}catch(t){return{isValid:!1,parsedJSON:null}}},n=function(t){return[{type:"paragraph",children:[{text:t}]}]},i={getValidJSON:a,getValidSlateJSON:function(e){var r=a(e),n=r.isValid,i=r.parsedJSON;return n?{isTextValidSlateJSON:n&&t(i,"0.children"),parsedJSON:i}:{isTextValidSlateJSON:!1,parsedSlateJSON:null}},getDefaultParagraphObjectEmpty:function(){return[{type:"paragraph",children:[]}]},isSlateTextEmpty:function(e){return!e||1===e.length&&!t(e,"0.children.0.text")&&!t(e,"0.children.0.type")},getFormattedText:function(t){var e=t.isValid,r=t.isEmpty,a=t.text,n=t.parsedText,i=t.defaultText;return e?r?i:n:a||i},getFormattedTextToEdit:function(t){var e=t.isValid,r=t.isEmpty,a=t.text,i=t.parsedText;return e?r?n(""):i:a&&n(a)||n("")},getPlainTextFromSlateJSON:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=a(t);return(null==n?void 0:n.parsedJSON)&&n.parsedJSON.map((function(t){return r.string(t)})).join("\n")||e}};export{i as slateFormattingTextUtils};
