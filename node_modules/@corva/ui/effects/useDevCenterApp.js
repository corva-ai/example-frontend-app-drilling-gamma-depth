import n from"@babel/runtime/helpers/slicedToArray";import{getAppIdentifier as o}from"../utils/devcenter.js";import{useState as t,useEffect as r}from"react";var e={};export default function(i){var p=i.CLIAppComponent,a=i.CLIAppSettings,c=i.url,u=i.appKey,l=i.version,d=o(u,l),m=t(!1),s=n(m,2),f=s[0],v=s[1],A=p||e[d]&&e[d].component||null,C=a||e[d]&&e[d].settings||null,b=function(){return v(!1)};return r((function(){var n=e[d];if(c&&d&&(!A||!C)&&(!p&&!n||n&&n.component)){if(v(!0),!n||!n.script){var o=document.createElement("script");o.src=c,o.onload=function(){e[d]=window[d]&&window[d].default,b()},e[d]={component:null,script:o},setTimeout((function(){return document.body.appendChild(o)}))}var t=e[d].script;if(t.onload){var r=t.onload;t.onload=function(){r(),b()}}t.onabort=b,t.error=b}}),[c]),{isLoading:f,AppComponent:A,AppSettings:C}}
