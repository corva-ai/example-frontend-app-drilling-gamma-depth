import r from"@babel/runtime/helpers/defineProperty";import{noop as t}from"lodash";import*as e from"./clientStorage/index.js";export{e as clientStorage};import{get as n,put as o,patch as i,post as c,del as p}from"./api/apiCore.js";import{CORVA_API_URLS as u}from"./constants.js";import*as s from"./jsonApi/index.js";export{s as jsonApi};import*as a from"./subscriptions.js";export{a as subscriptions};import{v4 as f}from"uuid";function l(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}var m={get:function(r,t){return n(r,t)},put:function(r,t,e){return o(r,t,e)},patch:function(r,t,e){return i(r,t,e)},post:function(r,t){return c(r,t)},del:function(r,t){return p(r,t)}},j={get:function(r,t){return n(r,t,{apiUrl:u.DATA_API})},put:function(r,t,e){return o(r,t,e,{apiUrl:u.DATA_API})},patch:function(r,t,e){return i(r,t,e,{apiUrl:u.DATA_API})},post:function(r,t){return c(r,t,{apiUrl:u.DATA_API})},del:function(r,t){return p(r,t,{apiUrl:u.DATA_API})}},d={subscribe:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.onDataReceive,o=void 0===n?t:n,i=window[Symbol.for("socket")]||{},c=i.subscribe,p=i.unsubscribe,u=i.socket;if(!u)return console.error("Socket is not initialized!"),t;var s=f(),a=b(b({},r),{},{collection:r.collection||r.dataset,appInstanceId:s});return c(a),u.on("data",(function(r){return r.appInstanceId===s&&o(r)})),function(){return p(a)}}};export{m as corvaAPI,j as corvaDataAPI,d as socketClient};
