import e from"@babel/runtime/helpers/defineProperty";import"../../constants/completion.js";import a from"moment";import"../../constants/alerts.js";import{upperFirst as t}from"lodash";import{convertValue as r,getUnitDisplay as n}from"../../utils/convert.js";import"../../constants/goals.js";import"../../constants/segment.js";import"../../constants/apps.js";import"../../constants/drillstring.js";import"../../constants/notifications.js";import{DRILLING_WELL_SUMMARY as i,COMPLETION_WELL_SUMMARY as s,DRILLOUT_WELL_SUMMARY as l}from"../../constants/wellSummary.js";import"../../utils/drillstring/conversion.js";import{getBHASchematic as c}from"../../utils/drillstring/schematic.js";import{orDash as o}from"../../utils/formatting.js";import m from"../../utils/main.js";import{jsxs as d,jsx as p,Fragment as u}from"react/jsx-runtime";import{makeStyles as h,Typography as f}from"@material-ui/core";import g from"prop-types";import y from"classnames";import v from"../Drillstring/BHASchematic.js";import"../Drillstring/BHAComponentIcon.js";import"../Drillstring/BHATable/index.js";import"../Drillstring/BHAComponentDetail/index.js";var N="/static/media/6684df900ff63f28b07f9c505fb7a66e.svg",k=h({value:{fontSize:"14px",fontWeight:500},valueSuffix:{color:"#9E9E9E"},hasLeftMargin:{marginLeft:4},bhaRoot:{display:"flex",alignItems:"center"},bhaIdRoot:{backgroundColor:"#2196F3",borderRadius:"50%",marginRight:"8px",display:"flex",alignItems:"center",justifyContent:"center"},realBhaRoot:{width:"16px",height:"16px"},bhaIdLabel:{fontWeight:500,fontSize:"12px"},dummyBhaIdLabel:{paddingLeft:"4px",paddingRight:"4px"},bhaActiveIndicator:{fontSize:"12px",padding:"4px",fontWeight:500},nptRoot:{display:"flex",alignItems:"center"},rectIndicator:{width:"8px",height:"8px",backgroundColor:"#D32F2F",borderRadius:"2px",marginRight:"8px"},stageActual:{fontSize:"16px"},stagePercent:{color:"#9E9E9E",marginLeft:"4px"},fluidProppantType:{color:"#9E9E9E"},valueWrapper:{display:"flex",alignItems:"center"},rightImg:{marginRight:"4px"},centerImg:{marginLeft:"4px",marginRight:"4px"},rotate:{transform:"rotate(180deg)"},profileRoot:{display:"flex",alignItems:"flex-start"},profile:{width:"20px",height:"20px",borderRadius:"50%",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"8px",backgroundSize:"20px 20px",backgroundRepeat:"no-repeat",backgroundPosition:"center"},plugsIcon:{marginLeft:-8}});function b(h){var g=h.item,b=h.summaryData,I=k();if(!b)return null;if(g.key===i.HOLE_DEPTH.key){var x=g.dataGetter(b).holeDepth;return Number.isFinite(x)?d("div",{className:I.valueWrapper,children:[p("img",{src:N,alt:"hole_depth",className:I.centerImg}),d("span",{className:y(I.value,I.hasLeftMargin),children:[Math.floor(x),"’"]})]}):"-"}if(g.key===i.BIT_HOLE_DEPTH.key){var T=g.dataGetter(b),R=T.bitDepth,A=T.holeDepth;return[R,A].every(Number.isFinite)?d("div",{className:I.valueWrapper,children:[p("img",{src:"/static/media/fa2667bad3591deb178e99b521571578.svg",alt:"bit_depth",className:I.rightImg}),d("span",{className:I.value,children:[Math.floor(R),"’ / "]}),p("img",{src:N,alt:"hole_depth",className:I.centerImg}),d("span",{className:I.value,children:[Math.floor(A),"’"]})]}):"-"}if(g.key===i.DIVERGENCE.key){var E=g.dataGetter(b),S=E.distance,D=E.ahead,G=E.right;return[S,D,G].every(Number.isFinite)?d("div",{className:I.valueWrapper,children:[p("span",{className:I.value,children:"".concat(r(S,"length","ft")," ").concat(n("length"))}),p("img",{src:"/static/media/53cecdbd86f03352bda956fca25b537d.svg",alt:"up_arrow",className:y(I.centerImg,e({},I.rotate,D<0))}),p("span",{className:I.value,children:"".concat(Math.abs(r(D,"length","ft"))," ").concat(n("length")," ").concat(D>0?"Ahead":"Behind")}),p("img",{src:"/static/media/d32edb0ff9a69145d2c7917855263251.svg",alt:"left_arrow",className:y(I.centerImg,e({},I.rotate,G>0))}),p("span",{className:I.value,children:"".concat(Math.abs(r(G,"length","ft"))," ").concat(n("length")," ").concat(G>0?"Right":"Left")})]}):"-"}if(g.key===i.LAST_ACTIVE.key||g.key===s.LAST_ACTIVE.key){var L=g.dataGetter(b).timestamp;return p(f,{className:I.value,children:L?a.unix(L).format("MM/DD/YYYY HH:mm"):"-"})}if(g.key===i.CURRENT_ACTIVITY.key||g.key===s.CURRENT_ACTIVITY.key){var _=g.dataGetter(b).activityName;return p(f,{className:I.value,children:o(t(_||"-"))})}if(g.key===i.PHASE.key){var j=g.dataGetter(b).phaseName;return p(f,{className:I.value,children:o(j)})}if(g.key===i.HOLE_SECTION.key){var C=g.dataGetter(b).sectionName;return p(f,{className:I.value,children:o(C)})}if([i.MUD.key,l.MUD.key].includes(g.key)){var P=g.dataGetter(b),H=P.mudType,M=P.mudDensity;return p(f,{className:I.value,children:H||M?d(u,{children:[H&&"".concat(H,", "),M&&"".concat(r(M,"density","ppg")," ").concat(n("density"))]}):"-"})}if(g.key===i.NPT.key||g.key===s.NPT.key){var O=g.dataGetter(b),B=O.nptType,Y=O.startTime,F=O.endTime;return B&&Y&&F?d("div",{className:I.nptRoot,children:[p("div",{className:I.rectIndicator}),d(f,{className:I.value,children:[t(B),": ",((F-Y)/3600).fixFloat(1)," hr"]})]}):"-"}if(g.key===i.OPERATIONS_SUMMARY.key||g.key===s.OPERATIONS_SUMMARY.key){var U=g.dataGetter(b),W=U.dateTime,w=U.summary;return d(f,{className:I.value,children:[W?a.unix(W).format("MM/DD/YYYY HH:mm"):"-",p("br",{}),w]})}if(g.key===s.STAGE.key){var V=g.dataGetter(b),z=V.planned,q=V.actual;return q&&z?d(f,{className:I.value,children:[p("span",{className:I.stageActual,children:q}),p("span",{children:"/"}),p("span",{children:z}),d("span",{className:I.stagePercent,children:["Stg ",Math.floor(q/z*100)," %"]})]}):"-"}if(g.key===s.FLUIDS.key){var J=g.dataGetter(b).fluids;return p("div",{children:0===J.length?"-":J.map((function(e){var a=e.type,t=e.amount,i=e.unit;return d(f,{className:I.value,children:[d("span",{className:I.fluidProppantType,children:[a," - "]}),p("span",{children:"".concat(r(t,"oil",i)," ").concat(n("oil"))})]},"".concat(a,"_").concat(t))}))})}if(g.key===s.PROPPANTS.key){var K=g.dataGetter(b).proppants;return p("div",{children:0===K.length?"-":K.map((function(e){var a=e.type,t=e.amount,i=e.unit;return d(f,{className:I.value,children:[d("span",{className:I.fluidProppantType,children:[a," - "]}),p("span",{children:"".concat(r(t,"mass",i)," ").concat(n("mass"))})]},"".concat(a,"_").concat(t))}))})}if(g.key===i.ALERT.key||g.key===s.ALERT.key){var Q=g.dataGetter(b).decisionPath;return p(f,{className:I.value,children:o(Q)})}if(g.key===i.ANNOTATION.key||g.key===s.ANNOTATION.key){var X=g.dataGetter(b),Z=X.firstName,$=X.lastName,ee=X.profilePhoto,ae=X.content,te="".concat(Z," ").concat($),re="".concat((Z||"").charAt(0)).concat(($||"").charAt(0));return ae?d("div",{className:I.profileRoot,children:[p("div",{className:I.profile,style:{backgroundColor:"#".concat(m.getColorFromString(te)),backgroundImage:"url(".concat(ee,")")},children:ee?null:re}),p(f,{className:I.value,children:ae})]}):"-"}if([i.BHA.key,l.BHA.key].includes(g.key)){var ne=l.BHA.key===g.key,ie=g.dataGetter(b),se=ie.bhaId,le=ie.components,ce=se&&String(se)||"-",oe=se&&c(le||[],ne)||[];return d("div",{className:I.bhaRoot,children:[p("div",{className:y(I.bhaIdRoot,e({},I.realBhaRoot,!ce.includes("."))),children:p(f,{className:y(I.bhaIdLabel,e({},I.dummyBhaIdLabel,ce.includes("."))),children:ce})}),p(v,{schematic:oe,containerHeight:20,containerWidth:120})]})}if(g.key===i.CASING.key){var me=g.dataGetter(b).outerDiameter;return me?p(f,{className:I.value,children:"".concat(r(me,"shortLength")," ").concat(n("shortLength"))}):null}if(g.key===i.BHA_COUNT.key){var de=g.dataGetter(b).count;return p(f,{className:I.value,children:o(de)})}if(g.key===s.STAGES_DESIGN.key){var pe=g.dataGetter(b).totalNumberOfStages;return Number.isFinite(pe)?d(f,{className:I.value,children:["-/",pe," ",p("span",{className:I.valueSuffix,children:"Stg"})]}):"-"}if(g.key===s.PLUGS_DRILLED_COUNT.key){var ue=g.dataGetter(b).plugsDrilledCount;return Number.isFinite(ue)?d("div",{className:I.valueWrapper,children:[p("img",{src:"/static/media/b0c8b3ba66c35ef3128cc93c5c538060.svg",alt:"drillout",className:I.plugsIcon}),p("span",{className:y(I.value,I.hasLeftMargin),children:ue})]}):"-"}if("development"===process.env.NODE_ENV)throw new Error("".concat(g.key," wasn't handled in WellSummaryItemValue. Returning null"));return null}b.propTypes={item:g.shape({key:g.string,label:g.string,icon:g.node,dataGetter:g.func}).isRequired,summaryData:g.shape({}).isRequired};export default b;
