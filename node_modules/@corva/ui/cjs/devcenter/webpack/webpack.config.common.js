"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./validators/index.js"),s=require("path"),t=require("uuid/v1"),r=require("clean-webpack-plugin").CleanWebpackPlugin,a=require("fs"),o=process.cwd(),l=JSON.parse(a.readFileSync(s.resolve(o,"./package.json"),"utf-8")),n=JSON.parse(a.readFileSync(s.resolve(o,"./manifest.json"),"utf-8"));exports.APP_DIRECTORY=o,exports.default=function(a,o){return e({packageJson:l}),{entry:"./src/index.js",output:{filename:"[name].[contenthash].js",path:s.resolve(process.cwd(),"dist"),publicPath:"/"},devServer:{historyApiFallback:!0},performance:{maxAssetSize:1024e3},plugins:[new r],resolve:{symlinks:!1,extensions:[".js",".jsx",".json",".ts",".tsx"]},module:{rules:[{test:/\.css$/i,use:["style-loader",{loader:"css-loader",options:{modules:{localIdentName:"development"===o.mode?"[path][name]__[local]__".concat(t().substr(-5)):"[name]__[hash:base64:3]".concat(t().substr(-5))},importLoaders:1}},{loader:"postcss-loader",options:{postcssOptions:{plugins:["postcss-preset-env"]}}}]},{test:/\.(js|jsx)$/,exclude:/[\\/]node_modules[\\/]/,use:{loader:"babel-loader",options:{presets:["@babel/preset-env",["@babel/preset-react",{runtime:"automatic"}]]}}},{test:/\.ts(x?)$/,exclude:/[\\/]node_modules[\\/]/,use:[{loader:"babel-loader",options:{presets:["@babel/preset-env",["@babel/preset-react",{runtime:"automatic"}]]}},{loader:"ts-loader"}]}]}}},exports.manifestJson=n,exports.packageJson=l;
