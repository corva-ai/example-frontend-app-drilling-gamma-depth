import r from"@babel/runtime/helpers/defineProperty";import"../../../../constants/completion.js";import"../../../../constants/alerts.js";import{get as e,uniq as t,keyBy as n}from"lodash";import a from"@babel/runtime/helpers/slicedToArray";import{DEV_CENTER_CLI_APP_ID as u}from"../../../../constants/devcenter.js";import"../../../../constants/goals.js";import"../../../../constants/segment.js";import"../../../../constants/apps.js";import"../../../../constants/drillstring.js";import"../../../../constants/notifications.js";import i from"@babel/runtime/regenerator";import s from"@babel/runtime/helpers/asyncToGenerator";import{getWells as c,getRigs as o,getResolvedAssets as p,getFracFleets as l,getFracFleetWells as f,getPadWells as d}from"../../../../clients/jsonApi/index.js";import m from"jsona";function b(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var h=new m,w=function(r,t){return+e(r,["settings",t])},y=function(r){return t(r.map((function(r){var e=a(r,2);e[0];return e[1]})).filter(Number.isFinite))};function g(r){return _.apply(this,arguments)}function _(){return(_=s(i.mark((function r(e){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length){r.next=2;break}return r.abrupt("return",null);case 2:return r.prev=2,r.next=5,c({ids:e,fields:["well.name","well.settings","well.company","well.asset_id","well.last_active_at","well.id","well.rig","rig.name","rig.asset_id","company.id"]});case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),console.error(r.t0),r.abrupt("return",null);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))).apply(this,arguments)}function j(r){return x.apply(this,arguments)}function x(){return(x=s(i.mark((function r(e){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length){r.next=2;break}return r.abrupt("return",null);case 2:return r.prev=2,r.next=5,o({ids:e,fields:["rig.name","rig.settings","rig.asset_id","rig.active_well","well.name","well.settings","well.company","well.asset_id","well.last_active_at","well.id","well.company.id"]});case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),console.error(r.t0),r.abrupt("return",null);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))).apply(this,arguments)}function k(r){return O.apply(this,arguments)}function O(){return(O=s(i.mark((function r(e){return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length){r.next=2;break}return r.abrupt("return",null);case 2:return r.prev=2,r.next=5,p({assets:e});case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),console.error(r.t0),r.abrupt("return",null);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))).apply(this,arguments)}var P=function(r,t){return{well:r&&v(v({},r.attributes),{},{id:r.id,companyId:e(r,"relationships.company.data.id")}),rig:{name:e(t,"attributes.name"),id:e(t,"id"),asset_id:e(t,"attributes.asset_id")}}},D=function(r,t,n){return t?r.reduce((function(r,u){var i=a(u,2),s=i[0],c=i[1],o=n(t,c),p=t[e(o,"relationships.rig.data.id")];return r[s]=P(o,p),r}),{}):{}},z=function(r,t,n){return t?r.reduce((function(r,u){var i=a(u,2),s=i[0],c=i[1],o=n(t,c),p=t[e(o,"relationships.active_well.data.id")];return r[s]=P(p,o),r}),{}):{}},A=function(r,e,t){return e||t?r.reduce((function(r,n){var u=a(n,2),i=u[0],s=u[1],c=null==e?void 0:e[s],o=null==t?void 0:t[i];return r[i]={fracFleet:c,wells:o},r}),{}):{}},E=function(r,e){return r||e?r.reduce((function(r,t){var n=a(t,2),u=n[0],i=(n[1],null==e?void 0:e[u]);return r[u]={wells:i},r}),{}):{}};function F(r){return S.apply(this,arguments)}function S(){return(S=s(i.mark((function r(e){var t;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length){r.next=2;break}return r.abrupt("return",null);case 2:return r.prev=2,r.next=5,l({ids:e,fields:["frac_fleet.name","frac_fleet.pads","frac_fleet.current_pad_id","frac_fleet.pad_frac_fleets"]});case 5:return t=r.sent,r.abrupt("return",h.deserialize(t));case 9:return r.prev=9,r.t0=r.catch(2),console.error(r.t0),r.abrupt("return",{});case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))).apply(this,arguments)}function T(r,e){return G.apply(this,arguments)}function G(){return(G=s(i.mark((function r(t,c){var o,p,l;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n(c,"id"),p=t.map(function(){var r=s(i.mark((function r(t){var n,s,c,p,l,d;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a(t,2),s=n[0],c=n[1],p={fields:"all",frac_fleet_id:c},l=o[s],s===u?p.app_key=e(l,["app","app_key"]):p.app_id=e(l,["app","id"]),r.prev=4,r.next=7,f(p);case 7:return d=r.sent,r.abrupt("return",h.deserialize(d));case 11:return r.prev=11,r.t0=r.catch(4),console.error(r.t0),r.abrupt("return",[]);case 15:case"end":return r.stop()}}),r,null,[[4,11]])})));return function(e){return r.apply(this,arguments)}}()),r.next=4,Promise.all(p);case 4:return l=r.sent,r.abrupt("return",l.reduce((function(r,e,n){return r[t[n][0]]=e,r}),{}));case 6:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function I(r,e){return N.apply(this,arguments)}function N(){return(N=s(i.mark((function r(t,c){var o,p,l;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n(c,"id"),p=t.map(function(){var r=s(i.mark((function r(t){var n,s,c,p,l,f;return i.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a(t,2),s=n[0],c=n[1],p={fields:"all"},l=o[s],s===u?p.app_key=e(l,["app","app_key"]):p.app_id=e(l,["app","id"]),r.prev=4,r.next=7,d(c,p);case 7:return f=r.sent,r.abrupt("return",h.deserialize(f));case 11:return r.prev=11,r.t0=r.catch(4),console.error(r.t0),r.abrupt("return",[]);case 15:case"end":return r.stop()}}),r,null,[[4,11]])})));return function(e){return r.apply(this,arguments)}}()),r.next=4,Promise.all(p);case 4:return l=r.sent,r.abrupt("return",l.reduce((function(r,e,n){return r[t[n][0]]=e,r}),{}));case 6:case"end":return r.stop()}}),r)})))).apply(this,arguments)}export{k as fetchAssetEntitiesByAssetIds,T as fetchFracFleetWells,F as fetchFracFleets,I as fetchPadWells,j as fetchRigs,g as fetchWells,w as getAppAssetSpecificTypeId,A as getAppsDataByFFs,E as getAppsDataByPads,z as getAppsDataByRigs,D as getAppsDataByWells,y as getUniqAssetIds};
