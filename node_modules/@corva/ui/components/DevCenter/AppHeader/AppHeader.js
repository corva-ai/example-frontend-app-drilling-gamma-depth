import"../../../constants/completion.js";import"../../../constants/alerts.js";import{get as t}from"lodash";import{DEV_CENTER_CLI_APP_ID as n}from"../../../constants/devcenter.js";import"../../../constants/goals.js";import{SEGMENTS as e}from"../../../constants/segment.js";import"../../../constants/apps.js";import"../../../constants/drillstring.js";import"../../../constants/notifications.js";import{getAppName as a}from"../../../utils/devcenter.js";import{jsxs as s,jsx as i}from"react/jsx-runtime";import o from"prop-types";import"../../Annotations/AnnotationsContext.js";import"../../Annotations/components/AnnotationsList/index.js";import r from"../../Annotations/components/LastAnnotation/index.js";import p from"./VersionBadge.js";import d from"./PadMode.js";import l from"../../AssetNameLabel/index.js";import c from"./AppHeader.css.js";function m(o){var m,u,h,f,v,A,g,L,b,j=o.app,_=o.appLastAnnotation,x=o.appSettings,w=o.badge,C=o.classes,N=o.coordinates,y=o.currentUser,I=o.fracFleet,D=o.isMaximized,S=o.onSettingChange,H=o.openAnnotationsList,R=o.rig,M=o.showLastAnnotation,W=o.updateCurrentDashboardAppLastAnnotation,q=o.well,F=o.wells,P=a(j),k=null==j||null===(m=j.package)||void 0===m||null===(u=m.manifest)||void 0===u||null===(h=u.application)||void 0===h?void 0:h.subtitle,z=null!==(f=null==j||null===(v=j.package)||void 0===v||null===(A=v.manifest)||void 0===A||null===(g=A.application)||void 0===g||null===(L=g.segments)||void 0===L?void 0:L[0])&&void 0!==f?f:e.DRILLING,O=z===e.DRILLING,T=(null==j?void 0:j.settings)||{},U=T.wellId,G=T.rigId,V=T.fracFleetId,B=T.padId,E=B&&(null==I||null===(b=I.pad_frac_fleets.find((function(t){return t.pad.id===B})))||void 0===b?void 0:b.pad),J=O?null==R?void 0:R.name:null==I?void 0:I.name,K=O?U&&(null==q?void 0:q.name):B&&(null==E?void 0:E.name),Q=!!(U||G||V),X=null!=I&&I.current_pad_id?"assets/types/pad/".concat(null==I?void 0:I.current_pad_id):null,Y=O?J&&"assets/".concat(null==q?void 0:q.asset_id):X,Z=B&&"assets/types/pad/".concat(B),$=j&&j.id===n;return s("div",{className:C.appHeader,children:[s("div",{className:C.appHeaderTitleWrapper,children:[s("div",{children:[s("div",{className:c.titleWrapper,children:[i("h6",{"data-testid":"".concat("DevCenter_AppHeader","_name"),className:c.title,children:P}),i(p,{app:j}),z===e.COMPLETION&&i(d,{fracFleet:I,wells:F,well:q,onSettingChange:S,appSettings:x})]}),w]}),j&&N&&i(l,{isPrimaryNameVisible:Q,primaryAssetName:J,secondaryAssetName:K,coordinatesPixelWidth:N.pixelWidth,primaryAssetLink:!$&&Y,secondaryAssetLink:!$&&Z,isMaximized:D})]}),k&&i("h6",{"data-testid":"".concat("DevCenter_AppHeader","_subtitle"),className:c.subtitle,children:k}),M&&_&&i(r,{dashboardAppId:j.id,appId:t(j,["app","id"]),annotation:_,openAnnotationsList:H,updateCurrentDashboardAppLastAnnotation:W,currentUser:y})]})}m.propTypes={app:o.object.isRequired,badge:o.node,classes:o.shape({appHeader:o.string,appHeaderTitleWrapper:o.string}),showLastAnnotation:o.bool,currentUser:o.shape({}),appLastAnnotation:o.shape({}),updateCurrentDashboardAppLastAnnotation:o.func,openAnnotationsList:o.func,rig:o.shape({name:o.string,asset_id:o.number}),well:o.shape({name:o.string,asset_id:o.number}),fracFleet:o.shape({name:o.string,current_pad_id:o.number,pad_frac_fleets:o.arrayOf(o.shape({pad:o.shape({id:o.number.isRequired}).isRequired})).isRequired}),wells:o.arrayOf(o.shape({})),coordinates:o.shape({pixelWidth:o.number.isRequired}),isMaximized:o.bool,appSettings:o.shape({}),onSettingChange:o.func},m.defaultProps={appLastAnnotation:null,appSettings:void 0,badge:null,classes:{},coordinates:void 0,currentUser:void 0,fracFleet:null,isMaximized:!1,onSettingChange:void 0,openAnnotationsList:void 0,rig:null,showLastAnnotation:!0,updateCurrentDashboardAppLastAnnotation:function(){},well:null,wells:null};export default m;
