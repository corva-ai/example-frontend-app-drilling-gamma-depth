import r from"@babel/runtime/helpers/slicedToArray";import e from"@babel/runtime/regenerator";import n from"@babel/runtime/helpers/asyncToGenerator";import{useState as t,useEffect as a}from"react";import{getAppPackages as o}from"../../../clients/jsonApi/index.js";export default function(i,s){var c=t({isLoading:!1,packages:[],error:null}),p=r(c,2),u=p[0],l=p[1];return a((function(){var r;(r=n(e.mark((function r(){var n,t;return e.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o(i,s);case 3:n=r.sent,t=n.data,l({isLoading:!1,packages:t,error:null}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0),l({isLoading:!1,packages:[],error:r.t0});case 12:case"end":return r.stop()}}),r,null,[[0,8]])}))),function(){return r.apply(this,arguments)})()}),[i]),u}
