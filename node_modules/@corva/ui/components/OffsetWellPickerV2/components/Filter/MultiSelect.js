import e from"@babel/runtime/helpers/slicedToArray";import{jsxs as r,jsx as i}from"react/jsx-runtime";import{makeStyles as t,FormControl as n,InputLabel as a,Select as l,MenuItem as o,Checkbox as c,ListItemText as s,Divider as u}from"@material-ui/core";import{useState as m,useEffect as p}from"react";import d from"prop-types";var f=t({checkBox:{color:"grey",paddingLeft:0},formControl:{marginLeft:10,marginTop:8,width:function(e){return e.size}},listItemPrimaryText:{color:"#fff"},paper:{backgroundColor:"#414141"}});function h(t){var d=t.options,h=t.currentValues,y=t.title,g=t.size,x=t.renderValue,k=t.onChange,v=m([]),C=e(v,2),q=C[0],R=C[1],T=m(!1),P=e(T,2),V=P[0],b=P[1],w=m(!1),z=e(w,2),N=z[0],O=z[1],B=f({size:g});p((function(){R(h.filter((function(e){return d.includes(e)})))}),[h,d]);return r(n,{className:B.formControl,children:[i(a,{shrink:!0,htmlFor:"c-owp-multi-select-".concat(y),children:y}),r(l,{className:B.select,MenuProps:{classes:{paper:B.paper}},multiple:!0,displayEmpty:!0,fullWidth:!0,value:q,inputProps:{name:"c-owp-multi-select-".concat(y),id:"c-owp-multi-select-".concat(y)},renderValue:function(e){return x(e.length)},open:V,onOpen:function(){b(!0),O(!1)},onClose:function(){b(!1),N&&k(q),O(!1)},onChange:function(e){var r=e.target.value;R(r.includes("all")?[]:r),O(!0)},children:[r(o,{value:"all",children:[i(c,{checked:!0,indeterminate:q.length>0,className:B.checkBox}),i(s,{primary:x(0),classes:{primary:B.listItemPrimaryText}})]},"all"),i(u,{}),d.map((function(e){return r(o,{value:e,children:[i(c,{checked:q.indexOf(e)>-1,className:B.checkBox}),i(s,{primary:e,classes:{primary:B.listItemPrimaryText}})]},e)}))]})]})}h.propTypes={options:d.arrayOf(d.string).isRequired,currentValues:d.arrayOf(d.string).isRequired,title:d.string.isRequired,size:d.number.isRequired,renderValue:d.func.isRequired,onChange:d.func.isRequired};export default h;
