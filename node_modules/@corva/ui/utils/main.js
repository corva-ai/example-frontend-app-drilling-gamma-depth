import e from"@babel/runtime/helpers/toConsumableArray";import t from"file-saver";import{SUPPORTED_DRILLING_OPERATIONS as r,DEFAULT_DRILLING_OPERATION_TYPE as n}from"../constants/apps.js";import o from"lodash/isNumber";import i from"@babel/runtime/regenerator";import a from"@babel/runtime/helpers/asyncToGenerator";import u from"chroma-js";import c from"lodash/round";import m from"lodash/isNaN";import s from"html2canvas";import l from"@material-ui/core/colors/grey";import f from"@material-ui/core/colors/red";import p from"@material-ui/core/colors/yellow";import h from"@material-ui/core/colors/blue";import d from"@material-ui/core/colors/green";var g=l[500],v=f[500],b=p[500],N=h[500],F=d[500],w={formatValuePrecision:function(e){return Number.isFinite(e)?e<100&&e>-100?e.formatNumeral("0,0.00"):e.formatNumeral("0,0.0"):e},downloadPDF:function(e,r){var n=new File([r],"".concat(e,".pdf"),{type:"application/pdf;charset=utf-8"});t.saveAs(n)},unescapeLineBreaks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\\n/g,"\n")},dataURLtoBlob:function(e){for(var t=window.atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),i=0;i<t.length;i+=1)o[i]=t.charCodeAt(i);return new Blob([n],{type:r})},banchmarkTimer:function(e){var t=new Date;return{stop:function(){var r=(new Date).getTime()-t.getTime();console.info("Timer:",e,"finished in",r,"ms")}}},convertToPercent:function(e,t){return e&&Number.isFinite(t)&&0!==t?Math.round(100*e/t*100)/100:0},getAverageByColumnsForCSV:function(t){var r=this,n=t.split("\n"),i=n[0].split(","),a=n[1].split(",").map((function(e){return[r.parseNumberFromString(e)]})),u=this.getLinesFrequency(n.length);n.shift();var s=n.reduce((function(t,n,i){if(i%u==0){var a=n.split(",").map(r.parseNumberFromString);return t.map((function(t,r){var n=+a[r];return o(n)&&!m(n)&&n>0?[].concat(e(t),[n]):t}))}return t}),a).map((function(e){return e.reduce((function(e,t){return e+t}))/e.length}));return s.map((function(e,t){return{header:i[t],value:c(e,5)}}))},parseNumberFromString:function(e){var t=+e;return m(t)?0:t},getLinesFrequency:function(e){var t="".concat(e);if(t.length<=4)return 1;var r=t.slice(4).length;return 1*Math.pow(10,r)},getColorFromString:function(e){return this.intToRGB(this.hashCode(e))},intToRGB:function(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t},hashCode:function(e){for(var t=0,r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t);return t},throttledEventListener:function(e,t,r,n){var o=!1,i=function(){o||(o=!0,window.requestAnimationFrame((function(){r.call(n),o=!1})))};return e.addEventListener(t,i),function(){e.removeEventListener(t,i)}},getSnapshotForElement:function(e){return a(i.mark((function t(){var r,n,o,a;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.document.getElementById(e)){t.next=3;break}return t.abrupt("return",null);case 3:return n=r.clientHeight,o=r.clientWidth,t.next=6,s(r,{height:n,width:o,logging:!1});case 6:return a=t.sent,t.abrupt("return",a.toDataURL());case 8:case"end":return t.stop()}}),t)})))()},getAssetStatusColor:function(e){return"active"===e?F:"complete"===e?N:"paused"===e?b:"idle"===e||"unknown"===e?g:v},closest:function(e,t){return e.reduce((function(e,r){return Math.abs(r-t)<Math.abs(e-t)?r:e}))},mathMax:function(e,t){return Number.isFinite(e)?Number.isFinite(t)?Math.max(e,t):e:t},mathMin:function(e,t){return Number.isFinite(e)?Number.isFinite(t)?Math.min(e,t):e:t},getOperationByType:function(e){return Object.values(r).find((function(t){return t.value===e||n}))},getUserFullName:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""},getNameInitials:function(e){return e.split(" ").slice(0,2).map((function(e){return e.substr(0,1)})).join("")},getS3BucketName:function(){return"development"===process.env.REACT_APP_ENVIRONMENT||"qa"===process.env.REACT_APP_ENVIRONMENT?"corva-files-qa":"corva-files"},getS3FileUrl:function(e,t){return"https://".concat(e,".s3.amazonaws.com/").concat(t)},getFileNameWithExtensionFromPath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/^.*[\\/]/,"")},hexToRgbA:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=u(e).rgba();return r[r.length-1]=t,"rgba(".concat(r.join(","),")")},truncateString:function(e,t){return e.length>t?"".concat(e.substr(0,t-1),"&hellip;"):e},copyToClipboard:function(e){var t=document.createElement("textarea");t.textContent=e,document.body.appendChild(t);var r=document.getSelection(),n=document.createRange();n.selectNode(t),r.removeAllRanges(),r.addRange(n),document.execCommand("copy"),r.removeAllRanges(),document.body.removeChild(t)}};window.getSnapshotForElement=w.getSnapshotForElement;export default w;
