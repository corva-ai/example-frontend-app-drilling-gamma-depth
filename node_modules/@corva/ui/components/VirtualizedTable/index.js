import e from"@babel/runtime/helpers/defineProperty";import t from"@babel/runtime/helpers/slicedToArray";import{jsxs as o,Fragment as n,jsx as r}from"react/jsx-runtime";import{makeStyles as i,IconButton as u}from"@material-ui/core";import{useState as s,useMemo as l}from"react";import c from"@babel/runtime/helpers/objectWithoutProperties";import a from"prop-types";import{AutoSizer as m}from"react-virtualized";import p from"@material-ui/icons/Settings";import f from"./CustomizeColumnsDialog.js";import h from"./VirtualizedTable.js";function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?g(Object(n),!0).forEach((function(o){e(t,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=i({vtTopSetting:{position:"relative",height:"25px"},vtTopSettingIcon:{position:"fixed",right:"20px",padding:"3px",fontSize:"20px"}});function C(e){var i=e.columns,a=e.useColumnSetting,g=e.savedColumns,C=e.onChangeColumns,b=e.customMuiStyles,S=c(e,["columns","useColumnSetting","savedColumns","onChangeColumns","customMuiStyles"]),O=y(),v=s(!1),w=t(v,2),j=w[0],P=w[1],T=s(!1),x=t(T,2),D=x[0],k=x[1],z=l((function(){var e=[];return g.forEach((function(t){var o=i.find((function(e){return e.key===t.key}));o&&e.push(d(d({},o),{},{show:t.show}))})),i.forEach((function(t){e.find((function(e){return e.key===t.key}))||e.push(t)})),e}),[i,g]),I=a&&D?25:0;return o(n,{children:[a&&D&&r("div",{className:O.vtTopSetting,children:r(u,{size:"small",className:O.vtTopSettingIcon,onClick:function(){return P(!0)},children:r(p,{fontSize:"inherit"})})}),r(m,{children:function(e){var t=e.width,o=e.height;return r(h,d({width:t,height:o-I,columns:z,useColumnSetting:a,onOpenSettingDlg:function(){return P(!0)},showTopSettingIcon:function(e){return k(e)},customMuiStyles:b},S))}}),r(f,{open:j,columns:z,handleCloseWithCancel:function(){return P(!1)},handleCloseWithOK:function(e){C&&C(e),P(!1)}})]})}C.propTypes={columns:a.arrayOf(a.shape({})),data:a.arrayOf(a.shape({})),useColumnSetting:a.bool,useFixedColumnWidth:a.bool,headerHeight:a.number,rowHeight:a.number,savedColumns:a.arrayOf(a.shape({})),onChangeColumns:a.func,customMuiStyles:a.shape({}),isTopSettingIconShownAlways:a.bool,CustomCellRenderer:a.func,customRowStyle:a.func,sort:a.func,sortBy:a.string,sortDirection:a.string},C.defaultProps={columns:[],data:[],useColumnSetting:!1,useFixedColumnWidth:!1,headerHeight:50,rowHeight:35,savedColumns:[],onChangeColumns:null,customMuiStyles:{},isTopSettingIconShownAlways:!1,CustomCellRenderer:null,customRowStyle:null,sort:null,sortBy:null,sortDirection:null};export default C;
