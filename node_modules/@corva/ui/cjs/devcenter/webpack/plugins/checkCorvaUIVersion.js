"use strict";var e=require('../../../../ext-cjs/@babel/runtime/regenerator/index.js'),r=require('../../../../ext-cjs/@babel/runtime/helpers/taggedTemplateLiteral.js'),n=require('../../../../ext-cjs/@babel/runtime/helpers/asyncToGenerator.js');function t(){var e=r(["\n        ****************************************************************\n        \n          You are using outdated version of @corva/ui {grey (",")}.\n          Current latest version is {green.bold (",")}.\n          This may lead to problems once the app is published.\n          Please update the @corva/ui with the following command:\n    \n              {green.bold yarn add @corva/ui@latest}\n\n        ****************************************************************"]);return t=function(){return e},e}var o=require("node-fetch"),a=require("chalk"),i=require("semver/functions/gt"),u=require("../../../../package.json");function s(e){return o("https://registry.npmjs.org/@corva/ui/latest").then((function(r){return r.ok?r.json().then((function(e){return e.version})):e.warn("Could not fetch latest @corva/ui version")})).catch((function(r){return e.warn("Connection error",r)}))}module.exports=function(r){var o;r.hooks.afterCompile.tapPromise("checkCorvaUIVersion",(o=n(e.mark((function r(n){var o,c,l;return e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.getLogger("checkCorvaUIVersion"),c=u.version,e.next=4,s(o);case 4:(l=e.sent)&&i(l,c)&&o.warn(a(t(),c,l));case 6:case"end":return e.stop()}}),r)}))),function(e){return o.apply(this,arguments)}))};
